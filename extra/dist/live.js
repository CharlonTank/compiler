(()=>{function e(){}var n={};!function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof n&&(n=e(),t=!0),!t){var o=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=o,r}}}((function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(o){function r(){}function c(n,t,c){if("undefined"!=typeof document){"number"==typeof(c=e({path:"/"},r.defaults,c)).expires&&(c.expires=new Date(1*new Date+864e5*c.expires)),c.expires=c.expires?c.expires.toUTCString():"";try{var s=JSON.stringify(t);/^[\{\[]/.test(s)&&(t=s)}catch(e){}t=o.write?o.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var a in c)c[a]&&(i+="; "+a,!0!==c[a]&&(i+="="+c[a].split(";")[0]));return document.cookie=n+"="+t+i}}function s(e,t){if("undefined"!=typeof document){for(var r={},c=document.cookie?document.cookie.split("; "):[],s=0;s<c.length;s++){var i=c[s].split("="),a=i.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var u=n(i[0]);if(a=(o.read||o)(a,u)||n(a),t)try{a=JSON.parse(a)}catch(e){}if(r[u]=a,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=c,r.get=function(e){return s(e,!1)},r.getJSON=function(e){return s(e,!0)},r.remove=function(n,t){c(n,"",e(t,{expires:-1}))},r.defaults={},r.withConverter=t,r}((function(){}))}));var t="";const o=function(){let e=n.get("sid");if(void 0===e){const e=function(e,n=0){return Math.abs(Math.floor(Math.random()*Math.floor(e))-n)}(1e6,1e4).toString().padEnd(40,"c04b8f7b594cdeedebc2a8029b82943b0a620815");return n.set("sid",e,{sameSite:"lax"}),e}return e}();var r=!1,c=null,s=[],i=[],a=null,u="f",d=null,l=null,f=function(e){if("r"===JSON.parse(e.data).t)document.location.reload()};const p=(m=("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/_w",b=0,v=1,y=(h=(h={timeout:2e3,maxAttempts:1/0,onopen:e=>{""!==t&&(r=!0,null!==c&&c-new Date<-1e4&&window.location.reload(),c=null),null!==d&&d.ports.setLiveStatus.send(r),k()},onmessage:e=>{f(e),""!==t&&!1===r&&(r=!0,k())},onreconnect:e=>{},onmaximum:e=>{},onclose:e=>{r=!1,c=c||new Date,null!==d&&d.ports.setLiveStatus.send(r)},onerror:e=>{r=!1,c=c||new Date,null!==d&&d.ports.setLiveStatus.send(r)}})||{}).maxAttempts||1/0,(w={}).open=function(){(g=new WebSocket(m,h.protocols||[])).onmessage=h.onmessage||e,g.onopen=function(n){(h.onopen||e)(n),b=0},g.onclose=function(n){1e3===n.code||1001===n.code||1005===n.code||w.reconnect(n),(h.onclose||e)(n)},g.onerror=function(n){n&&"ECONNREFUSED"===n.code?w.reconnect(n):(h.onerror||e)(n)}},w.reconnect=function(n){v&&b++<y?v=setTimeout((function(){(h.onreconnect||e)(n),w.open()}),h.timeout||1e3):(h.onmaximum||e)(n)},w.json=function(e){g.send(JSON.stringify(e))},w.send=function(e){g.send(e)},w.close=function(e,n){v=clearTimeout(v),g.close(e||1e3,n)},w.open(),w);var m,h,g,b,v,w,y;const k=function(){if(r)for(;s.length>0;){var e=s.pop();"ToBackend"==e.t&&(e.c=t),p.json(e)}},T=function(e){r?p.json(e):s.unshift(e)},S=function(e,n){null!==d?d.ports[e].send(n):i.unshift({n:e,a:n})};window.setupApp=function(e,n){function r(){if(null===d){if("LocalDev"!==e)return console.warn("Not a Lamdera app, loading as normal Elm."),d=Elm[e].init({node:document.getElementById(n)}),void(document.getElementById(n)&&(document.getElementById(n).innerText="This is a headless program, meaning there is nothing to show here.\n\nI started the program anyway though, and you can access it as `app` in the developer console."));d=Elm[e].init({node:document.getElementById(n),flags:{c:t,s:o,nt:u,b:l}}),document.getElementById(n)&&(document.getElementById(n).innerText="This is a headless program, meaning there is nothing to show here.\n\nI started the program anyway though, and you can access it as `app` in the developer console."),d.ports.send_ToFrontend.subscribe((function(e){null!==e.b&&(e.b=x(e.b)),T(e)})),d.ports.save_BackendModel.subscribe((function(e){e.b=x(e.b),e.f=e.f?"force":"",T(e)})),d.ports.send_EnvMode.subscribe((function(e){T(e)})),d.ports.send_ToBackend.subscribe((function(e){var n=x(e);T({t:"ToBackend",s:o,c:t,b:n})})),elmPkgJsInit(d),function(){if(null!==d)for(;i.length>0;){var e=i.pop();d.ports[e.n].send(e.a)}}()}}f=function(e){const n=JSON.parse(e.data);switch(n.t){case"r":document.location.reload();break;case"s":t=n.c,null!==d&&d.ports.setClientId.send(t),a=n.l,t==a?(u="l",null!==d&&d.ports.setNodeTypeLeader.send(!0)):(u="f",null!==d&&d.ports.setNodeTypeLeader.send(!1)),r();break;case"e":a=n.l,t==a?(u="l",null!==d&&d.ports.setNodeTypeLeader.send(!0)):(u="f",null!==d&&d.ports.setNodeTypeLeader.send(!1));break;case"ToBackend":d.ports.receive_ToBackend.send([n.s,n.c,B(n.b)]);break;case"ToFrontend":n.c!=t&&n.c!=o&&"b"!=n.c||(n.c=t,null!==n.b&&(n.b=B(n.b)),d.ports.receive_ToFrontend.send(n));break;case"p":null===d?l=B(n.b):d.ports.receive_BackendModel.send(B(n.b));break;case"q":try{var c=!1,s=null;const e=function(e){e.r===n.r&&(s=e,c=!0)};d.ports.rpcOut.subscribe(e),d.ports.rpcIn.send(n),(i=()=>c,f=1e4,m=p||50,h=f||5e3,new Promise((function(e,n){var t,o,r,c;r=function(){clearTimeout(o),clearInterval(t)},c=function(){var o;try{(o=i())?(r(),e(o)):t=setTimeout(c,m)}catch(e){r(),n(e)}},t=setTimeout(c,m),o=setTimeout((function(){r(),n(new Error("Timed out after waiting for "+h+"ms"))}),h)}))).then((n=>{d.ports.rpcOut.unsubscribe(e),T(s)})).catch((n=>{console.log(n),d.ports.rpcOut.unsubscribe(e)}))}catch(e){console.log(e)}break;case"c":S("onConnection",{s:n.s,c:n.c});break;case"d":S("onDisconnection",{s:n.s,c:n.c});break;case"x":break;default:console.warn("unexpected msg",n)}var i,f,p,m,h}};function x(e){let n="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(e.buffer),r=o.byteLength,c=r%3,s=r-c;let i,a,u,d,l;for(let e=0;e<s;e+=3)l=o[e]<<16|o[e+1]<<8|o[e+2],i=(16515072&l)>>18,a=(258048&l)>>12,u=(4032&l)>>6,d=63&l,n+=t[i]+t[a]+t[u]+t[d];return 1===c?(l=o[s],i=(252&l)>>2,a=(3&l)<<4,n+=`${t[i]}${t[a]}==`):2===c&&(l=o[s]<<8|o[s+1],i=(64512&l)>>10,a=(1008&l)>>4,u=(15&l)<<2,n+=`${t[i]}${t[a]}${t[u]}=`),n}function B(e){return new DataView(A.decodeArrayBuffer(e))}var A={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var n=(e=this.removePaddingChars(e)).length/4*3,t=new ArrayBuffer(n);return this.decode(e,t),t},removePaddingChars:function(e){var n=this._keyStr.indexOf(e.charAt(e.length-1));return 64==this._keyStr.indexOf(e.charAt(e.length-2))&&64==n?e.substring(0,e.length-2):64==n?e.substring(0,e.length-1):e},decode:function(e,n){var t,o,r,c,s,i,a,u=parseInt(e.length/4*3,10),d=0,l=0;for(t=n?new Uint8Array(n):new Uint8Array(u),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),d=0;d<u;d+=3)o=this._keyStr.indexOf(e.charAt(l++))<<2|(s=this._keyStr.indexOf(e.charAt(l++)))>>4,r=(15&s)<<4|(i=this._keyStr.indexOf(e.charAt(l++)))>>2,c=(3&i)<<6|(a=this._keyStr.indexOf(e.charAt(l++))),t[d]=o,64!=i&&(t[d+1]=r),64!=a&&(t[d+2]=c);return t}}})();